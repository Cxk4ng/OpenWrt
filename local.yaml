#Clash.Meta(mihomo)
MetaCfg: &MetaCfg
    interval: 43200                                     # æ›´æ–°é¢‘ç‡: 12h
    health-check:
        enable: true
        url: 'https://www.gstatic.com/generate_204'     # æµ‹é€Ÿé“¾æ¥
        interval: 300                                   # æµ‹é€Ÿé—´éš”: 5min
        timeout: 5000                                   # è¶…æ—¶æ—¶é—´: 5s
        lazy: true
        expected-status: 204                            # æœŸæœ›çŠ¶æ€ç : 204


# Proxy Providers
proxy-providers:
  provider:                                  # èŠ‚ç‚¹é›†å
    url: 'Subscription'                      # è®¢é˜…åœ°å€
    type: http                               # è¯·æ±‚åè®®
    <<: *MetaCfg                             # å¼•ç”¨æµ‹é€Ÿæ¨¡æ¿
    path: './proxy_provider/provider.yaml'   # ç¼“å­˜è·¯å¾„
    proxy: ğŸŸ å›½å¤–ä»£ç†                        # ä»£ç†
    filter: '^(?!.*(?i)(?:NEVER_MATCH)).*$'  # è¿‡æ»¤æ­£åˆ™


# Global Configuration
mixed-port: 7890            # æ··åˆç«¯å£
socks-port: 0               # SOCKS5ç«¯å£ (0è¡¨ç¤ºæµé‡ä»mixed-portå‡ºå»)
port: 0                     # HTTPç«¯å£
redir-port: 0               # é€æ˜ä»£ç†ç«¯å£
tproxy-port: 0              # TProxyç«¯å£
mode: rule                  # è¿è¡Œæ¨¡å¼ (rule,global,direct)
log-level: info             # æ—¥å¿—çº§åˆ« (silent,error,warn,info,debug)
ipv6: true                  # ipv6å¼€å…³ (æ˜¯å¦å¤„ç†ipv6æµé‡)
find-process-mode: always   # è¿›ç¨‹åŒ¹é…æ¨¡å¼
authentication: []          # èº«ä»½éªŒè¯ (ç©ºè¡¨ç¤ºæ— å¯†ç å³å¯è¿æ¥)
skip-auth-prefixes:         # è·³è¿‡éªŒè¯å‰ç¼€
  - 127.0.0.1/32
  - ::1/128
allow-lan: true             # å…è®¸å±€åŸŸç½‘
lan-disallowed-ips: []      # å±€åŸŸç½‘ç¦æ­¢IP
bind-address: "*"           # ç»‘å®šç›‘å¬åœ°å€
lan-allowed-ips:            # å±€åŸŸç½‘å…è®¸IP
  - 0.0.0.0/0
  - ::/0


# External Controller
external-controller: 0.0.0.0:7891       # å¤–éƒ¨æ§åˆ¶å°ç«¯å£
external-ui: ui                         # æœ¬åœ° UI æ–‡ä»¶å¤¹åç§°
secret: ""                              # æ§åˆ¶é¢æ¿å¯†ç 
external-ui-url: 'https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip' # è‡ªåŠ¨ä¸‹è½½é¢æ¿çš„åœ°å€
external-controller-cors:               # è·¨åŸŸè®¾ç½®
  allow-origins: ["*"]
  allow-private-network: true           # å…è®¸ç§æœ‰ç½‘ç»œè®¿é—®
profile:
  store-selected: true                  # è®°å¿†åŠŸèƒ½ (é‡å¯åè‡ªåŠ¨é€‰æ‹©ä¸Šæ¬¡é€‰æ‹©èŠ‚ç‚¹)
  store-fake-ip: true                   # è®°å¿†Fake-IP (é‡å¯åä¿æŒIPæ˜ å°„è¡¨)
unified-delay: true                     # ç»Ÿä¸€å»¶è¿Ÿ (è®¡ç®—å»¶è¿Ÿæ—¶åŒ…å«æ¡æ‰‹æ—¶é—´)
tcp-concurrent: true                    # TCPå¹¶å‘è¯·æ±‚æµ‹é€Ÿ
global-client-fingerprint: chrome       # æµè§ˆå™¨æŒ‡çº¹
geodata-mode: true                      # å¼€å¯ GeoData æ¨¡å¼
geo-auto-update: false                  # æ˜¯å¦è‡ªåŠ¨æ›´æ–°æ•°æ®åº“
geo-update-interval: 24                 # æ›´æ–°é—´éš”ï¼ˆå•ä½ï¼šå°æ—¶ï¼‰
geox-url:                               # æ•°æ®åº“ä¸‹è½½åœ°å€
  geoip: 'https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geoip.dat'
  geosite: 'https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat'
  mmdb: 'https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb'
  asn: 'https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb'


# Tunnel Configuration
tun:                                    # è™šæ‹Ÿç½‘å¡é…ç½®
  enable: false                         # æ˜¯å¦å¼€å¯TUNæ¨¡å¼
  stack: mixed                          # åè®®æ ˆæ–¹æ¡ˆï¼šæ··åˆæ¨¡å¼
  device: Clash.Meta                    # è™šæ‹Ÿç½‘å¡åå­—
  auto-route: true                      # è‡ªåŠ¨è®¾ç½®è·¯ç”± (è‡ªåŠ¨å°†ç³»ç»Ÿæµé‡å¼•æµåˆ°è¿™å—è™šæ‹Ÿç½‘å¡)
  auto-redirect: true                   # è‡ªåŠ¨é‡å®šå‘
  auto-detect-interface: true           # è‡ªåŠ¨æ£€æµ‹å‡ºå£ç½‘å¡ (é˜²æ­¢æµé‡ç¯è·¯)
  dns-hijack:                           # DNSåŠ«æŒ
    - any:53
    - tcp://any:53
  strict-route: true                    # ä¸¥æ ¼è·¯ç”±æ¨¡å¼ (å¼ºåˆ¶æ‰€æœ‰æµé‡é€šè¿‡ TUN)
  mtu: 1500                             # æœ€å¤§ä¼ è¾“å•å…ƒ
  route-exclude-address: []             # è·¯ç”±æ’é™¤åˆ—è¡¨


# DNS Configuration
dns:
  enable: true                          # å¼€å¯Clashå†…éƒ¨DNSæœåŠ¡å™¨ (åŠ¡å¿…å¼€å¯å¦åˆ™æ— æ³•åˆ†æµ)
  cache-algorithm: arc                  # ä½¿ç”¨ARCç¼“å­˜ç®—æ³• (æŠ—æ±¡æŸ“èƒ½åŠ›å¼º å‘½ä¸­ç‡é«˜)
  ipv6: true                            # å¼€å¯IPv6è§£æ
  enhanced-mode: fake-ip                # å¢å¼ºæ¨¡å¼ï¼šFake-IP (å…ˆè¿”å›å‡ipè¯·æ±‚ åå°è§£æçœŸå®ipåœ¨å‘é€å‰æ‰åŒ…)
  nameserver:                           # å¹¶å‘è§£æä»¥ä¸‹dnsæœåŠ¡
    - system                            # ç³»ç»Ÿ/è¿è¥å•†/è·¯ç”±å™¨é»˜è®¤ (æœ€å¿«)
    - https://dns.alidns.com/dns-query  # é˜¿é‡Œ DNS (åŠ å¯†é˜²åŠ«æŒ)
    - https://doh.pub/dns-query         # è…¾è®¯ DNS (å›½å†…ç¨³å®š)
  nameserver-policy:
    "geosite:geolocation-!cn":          # å›½å¤–åŸŸå (GeoSiteæ•°æ®åº“åˆ¤å®š)
      - https://1.1.1.1/dns-query
      - https://8.8.8.8/dns-query
    "geosite:cn":                       # å›½å†…åŸŸå (GeoSiteæ•°æ®åº“åˆ¤å®š)
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query
    "geosite:private":                  # ç§æœ‰åŸŸå
      - system
  fake-ip-range: 198.18.0.1/15          # Fake-IPç™½åå•
  fake-ip-filter:                       # ä»¥ä¸‹IPä¸è¿”å›å‡IP
    - DOMAIN,localhost                  # å†…ç½‘ä¸æœ¬æœº
    - DOMAIN-SUFFIX,local
    - DOMAIN-SUFFIX,lan


# Sniffer Configuration
sniffer:                                # ç”¨æ¥é…åˆ Fake-IP è¿˜åŸè¢«éšè—çš„çœŸå®åŸŸå
  enable: true                          # å¼€å¯å—…æ¢åŠŸèƒ½ (Fake-IPæ¨¡å¼å¿…å¼€)
  sniff:
    HTTP:                               # é’ˆå¯¹ HTTP åè®®çš„å—…æ¢
      ports:
        - 80
        - 8080-8880
    TLS:                                # é’ˆå¯¹ TLSï¼ˆHTTPSï¼‰åè®®çš„å—…æ¢
      ports:
        - 443
        - 8443
    QUIC:                               # é’ˆå¯¹ QUIC åè®®çš„å—…æ¢
      ports:
        - 443
        - 8443


# Node Filters
HK: &HK
  '(é¦™æ¸¯|HK|Hong Kong|Hongkong)'

TW: &TW
  '(å°æ¹¾|TW|Taiwan)'

KR: &KR
  '(éŸ©å›½|KR|Korea|KOR)'

JP: &JP
  '(æ—¥æœ¬|JP|Japan|Tokyo)'

SG: &SG
  '(ç‹®åŸ|æ–°åŠ å¡|SG|Singapore)'

US: &US
  '(ç¾å›½|US|United States|Seattle)'

CA: &CA
  '(åŠ æ‹¿å¤§|CA|Canada)'

Asia: &AS
  '(æ¾³é—¨|æœé²œ|å°åº¦|å°åº¦å°¼è¥¿äºš|å°å°¼|åœŸè€³å…¶|ä¼Šæœ—|æ³°å›½|å·´åŸºæ–¯å¦|è²å¾‹å®¾|é©¬æ¥è¥¿äºš|è¶Šå—|ç¼…ç”¸|æŸ¬åŸ”å¯¨|è¿ªæ‹œ|ä»¥è‰²åˆ—|é˜¿è”é…‹|India)'

Europe: &EU
  '(ä¿„ç½—æ–¯|å¾·å›½|åœŸè€³å…¶|æ³•å›½|è‹±å›½|æ„å¤§åˆ©|è¥¿ç­ç‰™|ä¹Œå…‹å…°|æ³¢å…°|è·å…°|è‘¡è„ç‰™|æ¯”åˆ©æ—¶|çˆ±å°”å…°|åŒˆç‰™åˆ©|æ‘©å°”å¤šç“¦|German|French|United Kingdom|London|Russia|Moscow)'

America: &AM
  '(å·´è¥¿|å¢¨è¥¿å“¥|å“¥ä¼¦æ¯”äºš|é˜¿æ ¹å»·|ç§˜é²|å§”å†…ç‘æ‹‰|æ™ºåˆ©|å„ç“œå¤šå°”|ç»åˆ©ç»´äºš)'

Oceania: &OC
  '(æ¾³å¤§åˆ©äºš|å·´å¸ƒäºšæ–°å‡ å†…äºš|æ–°è¥¿å…°|æ–°å–€é‡Œå¤šå°¼äºš|æ–æµ|æ‚‰å°¼|Australia)'

Africa: &AF
  '(å—é|åŸƒåŠ|å°¼æ—¥åˆ©äºš|South Africa|Egypt)'


# Proxy Group Templates
Auto: &Auto
  type: url-test          # ç­–ç•¥ç»„ç±»å‹: è‡ªåŠ¨
  url: 'https://www.gstatic.com/generate_204'
  expected-status: 204    # æœŸæœ›çŠ¶æ€ç : 204
  interval: 300           # æµ‹é€Ÿé—´éš”: 5min
  timeout: 5000           # è¶…æ—¶æ—¶é—´: 5s
  lazy: true              # æ‡’åŠ è½½æ¨¡å¼
  tolerance: 5            # å®¹å·®å€¼: 5ms
  disable-udp: false      # ç¦ç”¨UDPå¼€å…³ (å…è®¸udpé€šè¿‡)
  hidden: false           # éšè—å¼€å…³ (ç•Œé¢å¯è§)
  include-all: true       # åŒ…å«æ‰€æœ‰èŠ‚ç‚¹

Select: &Select
  type: select            # ç­–ç•¥ç»„ç±»å‹: æ‰‹åŠ¨
  disable-udp: false      # ç¦ç”¨UDPå¼€å…³:
  hidden: false           # éšè—å¼€å…³ (falseè¡¨ç¤ºç•Œé¢å¯è§)
  include-all: true       # åŒ…å«æ‰€æœ‰èŠ‚ç‚¹


# Proxy Groups
proxy-groups:
  # Auto
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    <<: *Auto
    filter: *HK

  - name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
    <<: *Auto
    filter: *TW

  - name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    <<: *Auto
    filter: *KR

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    <<: *Auto
    filter: *JP

  - name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
    <<: *Auto
    filter: *SG

  - name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
    <<: *Auto
    filter: *US

  - name: ğŸ‡¨ğŸ‡¦ åŠ å›½èŠ‚ç‚¹
    <<: *Auto
    filter: *CA

  - name: ğŸ äºšæ´²å›½å®¶
    <<: *Select
    filter: *AS

  - name: ğŸ° æ¬§æ´²å›½å®¶
    <<: *Select
    filter: *EU

  - name: ğŸ—ºï¸ ç¾æ´²å›½å®¶
    <<: *Select
    filter: *AM

  - name: ğŸ¦˜ æ¾³æ´²å›½å®¶
    <<: *Select
    filter: *OC

  - name: ğŸŒ éæ´²å›½å®¶
    <<: *Select
    filter: *AF

  - name: ğŸŸ å›½å¤–ä»£ç†
    type: select
    proxies: [
      ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¨ğŸ‡¦ åŠ å›½èŠ‚ç‚¹,
      ğŸ äºšæ´²å›½å®¶, ğŸ° æ¬§æ´²å›½å®¶, ğŸ—ºï¸ ç¾æ´²å›½å®¶, ğŸ¦˜ æ¾³æ´²å›½å®¶, ğŸŒ éæ´²å›½å®¶
    ]


# Rule Providers
rule-providers:
  # LAN
  LAN:                      # è§„åˆ™é›†åç§°
    type: http              # è·å–ç±»å‹
    behavior: classical     # è§„åˆ™è¡Œä¸ºæ¨¡å¼ (ç»å…¸æ¨¡å¼ æ”¯æŒåŸŸåã€IPã€å…³é”®è¯)
    interval: 43200         # æ›´æ–°é¢‘ç‡: 12h
    proxy: ğŸŸ å›½å¤–ä»£ç†       # ä¸‹è½½æ—¶ä½¿ç”¨çš„ä»£ç†
    url: 'https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Lan/Lan.yaml'
    path: './rule_set/Lan.list'

  # ProxyWhitelist
  ProxyWhitelist:
    type: http
    behavior: classical
    interval: 43200
    proxy: ğŸŸ å›½å¤–ä»£ç†
    url: 'https://raw.githubusercontent.com/cxk4ng/OpenWrt/main/rule/ProxyWhitelist.list'
    path: './rule_set/ProxyWhitelist.list'


# Rules
rules:
  - DOMAIN-SUFFIX,localhost,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT,no-resolve
  - IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
  - IP-CIDR,10.0.0.0/8,DIRECT,no-resolve
  - IP-CIDR,172.16.0.0/12,DIRECT,no-resolve 
  - GEOSITE,CN,DIRECT                   # å›½å†…åŸŸå
  - GEOSITE,geolocation-!cn,ğŸŸ å›½å¤–ä»£ç†  # å›½å¤–åŸŸå
  - GEOIP,CN,DIRECT                     # å›½å†…IP
  - GEOIP,!CN,ğŸŸ å›½å¤–ä»£ç†                # å›½å¤–IP
  - MATCH,DIRECT                        # ä»¥ä¸ŠæœªåŒ¹é…